<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Superheroes test</h1><h2>Description</h2><p>Application test using KOA as base to node, docker to make the environment, supertest to tests and nyc to coverage report.</p>
<h2>Installing dependencies</h2><ul>
<li><a href="https://docs.docker.com/engine/installation/">Install</a> Docker</li>
<li><a href="https://docs.docker.com/compose/install/">Install</a> Docker Compose</li>
</ul>
<p><strong>Running aplication with docker</strong></p>
<p>To build and start the docker-compose server run:
This, at the first time, can run an error because of database creation, if happens, re-run the command!</p>
<pre class="prettyprint source"><code>npm run docker</code></pre><p>To only start docker-compose server run:</p>
<pre class="prettyprint source"><code>npm run docker:start</code></pre><p>To only build the docker-compose server run:</p>
<pre class="prettyprint source"><code>npm run docker:build</code></pre><p>Will be opened by <a href="http://localhost:3000">http://localhost:3000</a>.</p>
<p><strong>Running aplication without docker</strong></p>
<p>This command needs a <code>npm install</code> before!</p>
<pre class="prettyprint source"><code>npm run start</code></pre><p>Will be opened by <a href="http://localhost:3001">http://localhost:3001</a>.</p>
<h2>Migrate database</h2><p>To create a default database to start those tests, run:</p>
<pre class="prettyprint source"><code>npm run db:migrate</code></pre><h2>Tests</h2><pre class="prettyprint source"><code>The application run in SQlite database and as the server, can be used in docker or not:    
`npm run test` or `npm run docker:test`</code></pre><h2>Docs</h2><pre class="prettyprint source"><code>The create documentation is using a generated yml of swagger, oppened by:</code></pre><ul>
<li><a href="http://localhost:3001/public/swagger#/">Docker instance</a></li>
<li><a href="http://localhost:3000/public/swagger#/">Local instance</a></li>
</ul>
<h2>Dependencies</h2><h3>Koa dependencies</h3><pre class="prettyprint source"><code>Every KOA dependencies are listed on KOA libraries(https://github.com/koajs), theys are:</code></pre><ul>
<li>@koa/cors - Enable Cors to project</li>
<li>koa-bodyparser - To handle request body</li>
<li>koa-helmet - provides important security headers to make your app more secure by default.</li>
<li>koa-jwt - Enable jwt handling to the requisitions</li>
<li>koa-logger - Control log to every requisition made to the server</li>
<li>koa-passport - Control user passport to the server, handling everything related to login</li>
<li>koa-router - Map all endpoints</li>
<li>koa-session2 - Control token lifecycle, handling user sessions</li>
</ul>
<h3>Other dependencies</h3><pre class="prettyprint source"><code>Other dependencies necessary to create the superheroes microservice:</code></pre><ul>
<li>mysqld2 - Middleware to connect to mysql database</li>
<li>passport-local - Extension to koa-passport to make easier to handle passport strategy</li>
<li>sequelize - ORM to database</li>
<li>winston - Server-side loggs</li>
<li>bcrypt - Handles every password encryptation.</li>
</ul></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-lib_helpers_errorHandling.html">lib/helpers/errorHandling</a></li><li><a href="module-lib_helpers_sequelize.html">lib/helpers/sequelize</a></li><li><a href="module-src_lib_middleware_errorHandler.html">src/lib/middleware/errorHandler</a></li><li><a href="module-src_lib_middleware_logger.html">src/lib/middleware/logger</a></li><li><a href="module-src_lib_middleware_swagger.html">src/lib/middleware/swagger</a></li><li><a href="src_admin_routes_versions_1.module_0_repository_Audit.html">0/repository/Audit</a></li><li><a href="src_admin_routes_versions_1.module_0_repository_Role.html">0/repository/Role</a></li><li><a href="src_admin_routes_versions_1.module_0_repository_User.html">0/repository/User</a></li><li><a href="src_admin_routes_versions_1.module_0_routes_Auth.html">0/routes/Auth</a></li><li><a href="src_admin_routes_versions_1.module_0_routes_User.html">0/routes/User</a></li><li><a href="src_admin_routes_versions_1.module_0_services_Audit.html">0/services/Audit</a></li><li><a href="src_admin_routes_versions_1.module_0_services_Role.html">0/services/Role</a></li><li><a href="src_admin_routes_versions_1.module_0_services_User.html">0/services/User</a></li><li><a href="src_admin_routes_versions_1.module_0_services_validator_User.html">0/services/validator/User</a></li><li><a href="src_api_routes_versions_1.module_0_repository_Audit.html">0/repository/Audit</a></li><li><a href="src_api_routes_versions_1.module_0_repository_ProtectionArea.html">0/repository/ProtectionArea</a></li><li><a href="src_api_routes_versions_1.module_0_repository_SuperHero.html">0/repository/SuperHero</a></li><li><a href="src_api_routes_versions_1.module_0_repository_SuperHeroesPowers.html">0/repository/SuperHeroesPowers</a></li><li><a href="src_api_routes_versions_1.module_0_repository_SuperPower.html">0/repository/SuperPower</a></li><li><a href="src_api_routes_versions_1.module_0_routes_SuperHero.html">0/routes/SuperHero</a></li><li><a href="src_api_routes_versions_1.module_0_routes_SuperPower.html">0/routes/SuperPower</a></li><li><a href="src_api_routes_versions_1.module_0_services_ProtectionArea.html">0/services/ProtectionArea</a></li><li><a href="src_api_routes_versions_1.module_0_services_SuperHero.html">0/services/SuperHero</a></li><li><a href="src_api_routes_versions_1.module_0_services_SuperHeroesPowers.html">0/services/SuperHeroesPowers</a></li><li><a href="src_api_routes_versions_1.module_0_services_SuperPower.html">0/services/SuperPower</a></li><li><a href="src_api_routes_versions_1.module_0_services_validator_Superhero.html">0/services/validator/Superhero</a></li><li><a href="src_api_routes_versions_1.module_0_services_validator_SuperPower.html">0/services/validator/SuperPower</a></li></ul><h3>Global</h3><ul><li><a href="global.html#checkPassword">checkPassword</a></li><li><a href="global.html#encrypt">encrypt</a></li><li><a href="global.html#generateJWT">generateJWT</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Sep 12 2018 14:01:26 GMT-0300 (-03)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>